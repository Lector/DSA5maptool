<!DOCTYPE html>
<html lang="en">

<head>
	<title>Some Title</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="./scripts/utils/logger.js?cachelib=false"></script>
    <script src="./scripts/rest.js?cachelib=false"></script>
	<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bruno+Ace+SC&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/@fontsource/aclonica@4.5.9/index.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="./styles/charSheet.css?cachelib=false" />
	<link rel="onChangeSelection" type="macro" href="macro://showPage@lib:com.github.lector.dsa5maptool/self/impersonated?">
</head>

<script>
	// configure DEBUG flag for Logger
	const DEBUG = true;
</script>

<body>
    <div>tbd</div>
    <!--<button id="clicker">Click Me!</button>
	 <div style="position: relative; width: 122px">
		<img style="position:absolute; top:0; left: 0;" src="images/mainTheme/bar.png" height="33px">
		<img style="position:absolute; top:0; left: 0;" src="images/mainTheme/barLife.png" width="50%" height="33px">
	</div>
	<p>Some Text</p>
	<div class="row-container">
		<div style="display: flex; flex-direction: column; gap:24px">
			<div title="Test" style="display: flex; justify-content: center; align-items: center; gap: 5px">
				<div>LE:</div>
				<div style="display: flex; flex-direction: column; justify-content: space-evenly">
					<a title="ErhÃ¶hen" style="margin: 0;"><img src="images/forms/plus.png"/></a>
					<a title="Reduzieren" style="margin: 0;"><img src="images/forms/minus.png"/></a>
				</div>
				<div style="background-image: url('images/mainTheme/bar.png'); width: 150px; height: 33px; overflow: hidden; position: relative">
					<div style="background-image: url('images/mainTheme/barLife.png'); height: 33px; width: 70%;">
					</div>
					<div class="energyBarText"> 23/27</div>
				</div>
			</div>
		</div>
	</div> -->
	<div class="row-container">
		<div>MeinName</div>
		<p id="name"></p>
		<div class="heading">Mut</div>
		<p id="mu"></p>
		<div class="heading">KL</div>
		<p id="kl"></p>
	</div>
</body>

<script>
	window.addEventListener("load", async function() {
		LOGGER.log("Loaded");
		const tokenId = await MapTool.getUserData();
		LOGGER.log("Open Page for token", tokenId);

		const URI = "macro:dataProvider@lib:com.github.lector.dsa5maptool"
		getData(URI, {tokenId: tokenId},{name: "MockedName", mu: 14, kl: 8}).then(val => {
			LOGGER.log("Fetched value", val);
			document.getElementById("name").innerText = val.name;
			document.getElementById("mu").innerText = val.mu;
			document.getElementById("kl").innerText = val.kl;
		}).catch(e => {
			LOGGER.logError(`Error occured while fetching data from ${URI}`, e);
		})
	})
</script>

</html>