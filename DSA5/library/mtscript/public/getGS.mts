[h: switchToken(arg(0))]
[h: rs = resolveRS(currentToken(), getRuestung(Ruestungen, RuestungAktiv))]
[h: aktGS = round((GS + getStrProp(TempMod, "gs") + json.get(rs, "GS") - Belastung - Schmerz) * (1 - 0.25 * Paralyse))]
[h,if(getState("Liegend") == 1): aktGS = min(1, aktGS)]
[h,if(getState("Handlungsunf√§hig") == 1 || getState("Bewusstlos") == 1): aktGS = 0]
[h: macro.return = aktGS]